$(function(){function e(){function e(){n(r+1)}function n(e){i[r].className=".hotel-slider cover",r=(e+i.length)%i.length,i[r].className=".hotel-slider cover showing"}function t(){a.style.background="rgba(6,154,12,.4)",s=!1,clearInterval(o)}if(0==$(".hotel-slider").length)return!1;document.querySelectorAll(".hotel-slider .buttons > .btn");var i=document.querySelectorAll(".hotel-slider > .slides > .cover"),r=0,o=setInterval(e,5e3),s=!0,a=document.querySelector(".hotel-slider .buttons > .pause");a.onclick=function(){s?t():(a.style.background="rgba(0,0,0,.7)",s=!0,o=setInterval(e,5e3))};var l=document.querySelector(".hotel-slider .buttons .next"),c=document.querySelector(".hotel-slider .buttons .prev");l.onclick=function(){t(),e()},c.onclick=function(){t(),n(r-1)}}window.onload=function(){if($("header > nav").length<1)return!1;window.addEventListener("scroll",function(e){var n=window.pageYOffset||document.documentElement.scrollTop,t=document.querySelector("header > nav");n>500?classie.add(t,"smaller"):classie.has(t,"smaller")&&classie.remove(t,"smaller")})}(),$("#intro > .intro-poster > .links > a").click(function(e){e.preventDefault(),$("#intro .circle").css("animation","puls forwards 2s");var n=this.getAttribute("href");setTimeout(function(){window.location=n},1e3)}),$(".hamburger").click(function(){$(".hamburger .inner").toggleClass("open"),$("nav > .menu > ul").toggleClass("closed")}),$(".actual .container .main .wrapper .element").click(function(){$(this).addClass("move")}),$(".actual .container .main .wrapper .element").mouseleave(function(){$(this).removeClass("move")}),$(window).bind("scroll",function(e){!function(){var e=$(window).scrollTop();$(".poster-sub .cover").css("background-position","center +"+.5*e+"px"),$(".poster .cover").css("background-position","center +"+.5*e+"px")}()}),function(e){var n=!1,t=function(){var e=$("body").prop("scrollTop"),n=$("html").prop("scrollTop");return 0===n?e:n},i=e.clone(!0).appendTo(e.parent()).hide().css({position:"fixed",top:0,right:0,transition:"all .3s"});e.on({show:function(e){i.show(),n=!0},hide:function(e){i.hide(),n=!1},check:function(i){t()>e.offset().top&&!n&&window.innerWidth>=1440?e.triggerHandler("show"):t()<=e.offset().top&&n&&e.triggerHandler("hide")}}),$(window).scroll(function(){e.triggerHandler("check")}),$(window).resize(function(){window.innerWidth<1440&&n&&e.triggerHandler("hide")}),$(document).scroll(function(){})}($(".breadcrumbs .social")),$(window).scroll(function(){window.innerWidth<1440&&($(this).scrollTop()>300?$(".nav-end").fadeIn().css("display","flex"):$(".nav-end").fadeOut())});var n=$(".tab-wrapper"),t=n.find(".tab-content > div"),i=n.find(".tab-menu li"),r=$('<div class="line"></div>').appendTo(i);t.not(":first-of-type").hide(),i.filter(":first-of-type").find(":first").width("100%"),i.each(function(e){$(this).attr("data-tab","tab"+e)}),t.each(function(e){$(this).attr("data-tab","tab"+e)}),i.on("click",function(){var e=$(this).data("tab"),o=$(this).closest(n);o.find(i).removeClass("active"),$(this).addClass("active"),o.find(".line").width(0),$(this).find(r).animate({width:"100%"},"fast"),o.find(t).hide(),o.find(t).filter("[data-tab="+e+"]").show()}),function(e,n,t){var i,r=0,o=!1;e.on({init:function(e){TweenLite.set(n.eq(0),{opacity:1,zIndex:1}),TweenLite.set(n.eq(0).siblings(".slide"),{opacity:0,zIndex:0}),$(this).triggerHandler("start")},next:function(e){o||(o=!0,r++,$(this).triggerHandler("set"))},prev:function(e){o||(o=!0,r--,$(this).triggerHandler("set"))},set:function(e){$(this);r<0&&(r=n.length-1),r%=n.length,t.eq(r).addClass("active").siblings(".item").removeClass("active"),new TimelineLite({onComplete:function(){o=!1}}).add(TweenLite.to(n.eq(r).siblings(".slide"),1,{opacity:0,zIndex:0}),0).add(TweenLite.to(n.eq(r),1,{opacity:1,zIndex:1}),0)},stop:function(e){window.clearInterval(i)},start:function(e){var n=$(this);n.triggerHandler("stop"),i=window.setInterval(function(){n.triggerHandler("next")},4e3)},mouseover:function(e){$(this).triggerHandler("stop")},mouseleave:function(e){$(this).triggerHandler("start")}}).swipe({swipeLeft:function(e){$(this).triggerHandler("next")},swipeRight:function(e){$(this).triggerHandler("prev")}}),t.click(function(n){o||(o=!0,r=$(this).index(),e.triggerHandler("set"))}),e.triggerHandler("init")}($("#slider-main"),$("#slider-main > .slide"),$("#slider-main > .pagin > .item")),e(),function(e,n,t,i){e.on({check:function(n,t){var i=function(e){var n=$(e).attr("value-type"),t=$(e).val();switch(n){case"person":return/^\D[\D\s \-]+$/.test(t);case"subject":case"message":return/^[^<>]+$/.test(t);case"email":return/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(t);case"phone":return/^(\+\d+\s*)?(\(\d+\)\s*)?(\d+(\s|\-)*)+$/.test(t);case"zgoda":return $(e).prop("checked");case void 0:return!0;default:return!1}}(t);return e.triggerHandler("mark",[t,i]),i},mark:function(e,n,t){!0===t?($(n).removeClass("invalid"),$(n).addClass("valid")):($(n).removeClass("valid"),$(n).addClass("invalid"))},send:function(n){var t=new FormData(e[0]);$.ajax({method:"POST",url:"../../ajax-kontakt/",data:t,contentType:!1,processData:!1,success:function(n,t,i){try{console.log(n);var r=JSON.parse(n);e.triggerHandler("notify",[r.status,r.msg])}catch(n){console.error(n),e.triggerHandler("notify",["error","Błąd odpowiedzi serwera."])}},error:function(n,t,i){console.error({xhr:n,status:t,data:i}),e.triggerHandler("notify",["error","Błąd komunikacji z serwerem."])}})},notify:function(e,n,i){t.hide().removeClass("success, fail").addClass(n).html(i).slideDown()}}),n.blur(function(n){e.triggerHandler("check",$(this))}),i.click(function(t){t.preventDefault(),n.each(function(){e.triggerHandler("check",$(this))}),console.log(n.filter(".valid").length===n.length),n.filter(".valid").length===n.length?(console.info("formularz zweryfikowany pomyślnie"),e.triggerHandler("send")):console.warn("formularz nie został wypełniony poprawnie")}),t.click(function(e){$(this).slideUp()})}($("form.fpcf"),$("form.fpcf").find("input, textarea"),$("form.fpcf .notify"),$("form.fpcf .submit")),function(e,n,t,i,r){e.find(".optional").hide();var o=i.find(".person:first").clone(!0);n.click(function(e){e.preventDefault(),$(this).parent().prevAll(".person").children(".body").slideUp(),$(this).parent().before(o.clone(!0))}),i.on("click",".person > .head",function(e){$(this).siblings(".body").slideToggle(),$(this).parent().siblings(".person").children(".body").slideUp()}),i.on("click",".person > .head > .del",function(e){e.stopPropagation(),$(this).closest(".person").fadeOut("fast",function(){$(this).remove()})}),t.on({invalid:function(e){TweenLite.fromTo($(this).parent(),1,{backgroundColor:"red"},{backgroundColor:"transparent"})}}),e.on("click","label.promo",function(e){$(this).siblings("input.promo").click(),!0===$(this).siblings("input.promo").prop("checked")?$(this).parent().siblings(".dimms").slideDown():$(this).parent().siblings(".dimms").slideUp()})}($(".rezerwuj-single form"),$(".rezerwuj-single form .add"),$(".rezerwuj-single form .zgody input"),$(".rezerwuj-single form .personal"),$(".rezerwuj-single form").find('[type="submit"]')),function(e,n,t){e.find("h1, h2, h3, h4, h5, h6").addClass("theme-color"),n.click(function(e){var n=$(this).index();$(this).addClass("active").siblings().removeClass("active"),t.eq(n).addClass("active").siblings().removeClass("active")})}($("#oferta-single .zakladki"),$("#oferta-single .zakladki .head .item"),$("#oferta-single .zakladki .tabs .item"))});